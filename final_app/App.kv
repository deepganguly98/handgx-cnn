#: kivy 1.10.1
#: import FadeTransition kivy.uix.screenmanager.FadeTransition
#: import BoxLayout kivy.uix.boxlayout.BoxLayout

ScreenManagement:
	transition: FadeTransition()

	HomeScreen:

	HistCreationScreen:

	MainScreen:

	OutputScreen:

<HomeScreen>:
	name: 'home'
	BoxLayout:
		id : home_main
		orientation: 'vertical'
		padding: self.width*0.02 + self.height*0.02
		canvas:
			Rectangle:
				source: "../images/texture7.jpg"
				pos: self.pos
				size: self.size
		button_font_size: '35sp'
		Label:
			text: 'Choose preferred hand orientation'
			size_hint: (1,None)
			font_size: '25sp'
		BoxLayout:
			orientation: 'horizontal'
			size_hint: (1,None)
			height: left_hand.height
			spacing: '20sp'
			Button:
				id: left_hand
				text: '      Left'
				size_hint: (1,None)
				height: self.texture_size[1] + (2*home_main.padding[1])
				font_size: home_main.button_font_size
				background_normal: '../images/left.png'
				background_color: (1, 1, 1, 0.5)
				on_press: root.flip(0)
			Button:
				id: right_hand
				text: 'Right      '
				size_hint: (1,None)
				height: self.texture_size[1] + (2*home_main.padding[1])
				font_size: home_main.button_font_size
				background_normal: '../images/right.png'
				background_color: (1, 1, 1, 0.5)
				on_press: root.flip(1)

<HistCreationScreen>:
	name: 'hist'
	BoxLayout:
		id: hist_main
		orientation: 'vertical'
		canvas:
			Rectangle:
				source: "images/texture9.jpg"
				pos: hist_main.pos
				size: hist_main.size
		padding: hist_main.width*0.02, hist_main.height*0.02
		
		button_font_size: '25sp'

	    lbl_generate : generate
	    qrcam1 : qrcam1

		Label:
			text: "Place you hand on the squares inside the green box"
			size_hint: (1,None)
			height: self.texture_size[1]
			font_size: '30sp'
		BoxLayout:
	        orientation: "vertical"
	        BoxLayout:
	            orientation:"vertical"
	            height: 50
	            KivyCamera:
	                id: qrcam1
	        BoxLayout:
	    		orientation: 'horizontal'
	    		size_hint: (1,None)
	    		height: generate.height 
	    		Button:
	    			id: generate
	    			text: 'Generate histogram'
	    			font_size: hist_main.button_font_size
	    			size_hint: (1,None)
	    			height: self.texture_size[1] + (2*hist_main.padding[1])
	    			on_press: root.generate()
	    		Button:
	    			id: load
	    			text: 'Load Histogram'
	    			font_size: hist_main.button_font_size
	    			size_hint: (1,None)
	    			height: self.texture_size[1] + (2*hist_main.padding[1])
	    			on_press: root.load()
	    		Button:
	    			id: accept
	    			text: 'Accept'
	    			font_size: hist_main.button_font_size
	    			size_hint: (1,None)
	    			height: self.texture_size[1] + (2*hist_main.padding[1])
	    			on_press: root.accept()



<MainScreen>:
	name: 'main'

<OutputScreen>:
	name: 'output'

# ======================================================================
# 									READ
# ======================================================================

# When a button is clicked use ->
# app.root.current = 'name of screen'
# to switch to a different screen
